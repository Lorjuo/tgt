<div class="col-md-3 col-sm-4 col-xs-6">
  <div class="thumbnail image-wrapper checkbox-wrapper">
    <%# link_to(image_tag(image.file_url(:_260x180)), image) if image.file._260x180.present? %>
    <div class="image">
      <%= link_to(image.file_url, :class => 'fancybox', size: "260x180", :rel => 'group', :caption => image.name) do %>
        <%= image_tag(image.file_url(:_260x180)) %>
      <% end if image.file._260x180.present? %>
      <% if can?(:edit, image.attachable) %>
        <div class="image-overlay toolbar">
          <%= link_to set_preview_image_gallery_path(image.attachable, :image_id => image), :method => :post, :title => t(".set_as_preview"), :data => {:toggle => "tooltip"} do %>
            <%= tag :span, :class => (image.attachable.preview_image_id == image.id) ? "glyphicon glyphicon-star active" : "glyphicon glyphicon-star" %>
          <% end %>
        </div>
      <% end %>
    </div>

    <!--
      Overlay image buttons
      http://web.enavu.com/tutorials/making-image-overlay-caption-using-css/
      http://stackoverflow.com/questions/12443857/how-to-make-an-overlay-over-a-bootstrap-thumbnail
      https://groups.google.com/forum/#!topic/twitter-bootstrap-stackoverflow/kG8wjX08bBw
      http://stackoverflow.com/questions/18631530/text-overlay-on-image -> seems to work
    -->

    <%# holder_tag '260x180' %>
    <% if can?(:edit, image) %>
      <div class="caption">
        <!-- <p><%= image.name %></p> -->
        <%= check_box_tag "image_ids[]", image.id %>
        <%= link_to edit_image_path(image) do %>
          <span class="glyphicon glyphicon-edit"></span>
          <%= t "general.edit" %>
        <% end %>
        <%= link_to set_preview_image_gallery_path(image.attachable, :image_id => image), :method => :post do %>
          <span class="glyphicon glyphicon-star"></span>
          <%= t(".set_as_preview") %>
        <% end if false %>
        <%= link_to image, data: { confirm: t("general.are_you_sure")}, :method => :delete do %>
          <span class="glyphicon glyphicon-trash"></span>
          <%= t "general.destroy" %>
        <% end if can?(:destroy, image) %>
      </div>
    <% end %>
    
    <!-- Does not work, because where is no input-group-xs, but a btn-group-xs
    <!--<div class="caption">
      <div style="text-align: center;" class="input-group input-group-sm">
        <span class="input-group-btn">
        <%= link_to edit_image_path(image), class: 'btn btn-sm btn-default' do %>
          <span class="glyphicon glyphicon-edit"></span>
          <%= t "general.edit" %>
        <% end if can?(:edit, image) %>
        </span>
        <span class="input-group-btn">
        <%= link_to set_preview_image_gallery_path(image.attachable, :image_id => image), :method => :post, class: 'btn btn-sm btn-default' do %>
          <span class="glyphicon glyphicon-star"></span>
          <%= t(".set_as_preview") %>
        <% end if can?(:edit, image.attachable) && false %>
        </span>
        <span class="input-group-btn">
        <%= link_to image, data: { confirm: t("general.are_you_sure")}, :method => :delete, class: 'btn btn-sm btn-default' do %>
          <span class="glyphicon glyphicon-trash"></span>
          <%= t "general.destroy" %>
        <% end if can?(:destroy, image) %>
        </span>
        <span class="input-group-addon input-group-addon-sm">
        <%= check_box_tag "image_ids[]", image.id %>
        </span>

      </div>
    </div>-->
  </div>
</div>